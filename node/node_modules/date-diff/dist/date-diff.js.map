{"mappings":";;;;;;;;;;AAAA,KAAK,CAAC,8BAAQ;IACZ,IAAI,EAAE,QAAQ;IACd,KAAK,EAAE,OAAO;IACd,OAAO,EAAE,KAAK;IACd,OAAO,EAAE,IAAI;;AAGf,KAAK,CAAC,2BAAK,IAAI,KAAa,GAAa,CAAC;WACjC,UAAU,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;AACnC,CAAC;MAEoB,wCAAQ;gBAKf,KAAW,EAAE,KAAW,CAAE,CAAC;aAMvC,IAAI,OAAiB,CAAC;mBACb,2BAAK,MAAM,UAAU,GAAG,8BAAQ,CAAC,IAAI;QAC9C,CAAC;aAED,KAAK,OAAiB,CAAC;mBACd,2BAAK,MAAM,IAAI,KAAK,CAAC;QAC9B,CAAC;aAED,KAAK,OAAiB,CAAC;mBACd,2BAAK,MAAM,UAAU,GAAG,8BAAQ,CAAC,KAAK;QAC/C,CAAC;aAED,OAAO,OAAiB,CAAC;mBAChB,2BAAK,MAAM,UAAU,GAAG,8BAAQ,CAAC,OAAO;QACjD,CAAC;aAED,OAAO,OAAiB,CAAC;mBAChB,2BAAK,MAAM,UAAU,GAAG,8BAAQ,CAAC,OAAO;QACjD,CAAC;aAED,MAAM,OAAiB,CAAC;YACtB,GAAG,CAAC,GAAG,SAAS,KAAK,CAAC,WAAW,UAAU,KAAK,CAAC,WAAW,MAAM,EAAE;YACpE,GAAG,SAAS,KAAK,CAAC,QAAQ,UAAU,KAAK,CAAC,QAAQ;YAClD,KAAK,CAAC,UAAU,QAAQ,UAAU,MAAM,KAAK,EAAE,OAAO;YACtD,GAAG,SAAU,KAAK,CAAC,OAAO,KAAK,UAAU,QAAU,KAAK,CAAC,OAAO,KAAK,UAAU;mBACxE,2BAAK,CAAC,GAAG;QAClB,CAAC;aAED,KAAK,OAAiB,CAAC;YACrB,GAAG,CAAC,GAAG,QAAS,KAAK,CAAC,WAAW,UAAU,KAAK,CAAC,WAAW;YAC5D,GAAG,UAAU,SAAS,MAAM,KAAK,SAAS,SAAS,MAAM,KAAK,UAAU,UAAU,MAAM,KAAK;mBACtF,2BAAK,CAAC,GAAG;QAClB,CAAC;aAED,UAAU,IAAI,IAAU,GAAW,CAAC;mBAC3B,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,QAAQ,KAAK,CAAC,EAAE,CAAC;QAC5D,CAAC;aAED,SAAS,IAAI,IAAU,GAAa,CAAC;oBAC3B,IAAI,CAAC,OAAO,UAAU,WAAW,CAAC,IAAI,EAAE,OAAO,MAAM,8BAAQ,CAAC,IAAI;QAC5E,CAAC;aAED,UAAU,IAAI,IAAU,GAAK,CAAC;yBACf,SAAS,CAAC,IAAI,EAAE,OAAO,UAAU,WAAW,CAAC,IAAI,EAAE,OAAO,MAAM,8BAAQ,CAAC,IAAI;QAC5F,CAAC;aAED,WAAW,IAAI,IAAU,GAAW,CAAC;mBAC5B,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI,CAAC,EAAE,CAAC;QAC1C,CAAC;aAED,SAAS,IAAI,IAAU,GAAW,CAAC;mBAC1B,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,KAAK,CAAC,EAAE,CAAC,EAAE,CAAC;QAC9C,CAAC;aAzDM,KAAK,GAAG,KAAK;aACb,KAAK,GAAG,KAAK;aACb,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,KAAK,KAAK,CAAC,OAAO;IAC9D,CAAC;;AAgEH,IAAI,CAAC,IAAI,IAAI,MAAW,EAAE,MAAW,GAAK,GAAG,CAAC,wCAAQ,CAAC,MAAK,EAAE,MAAK","sources":["src/date-diff.ts"],"sourcesContent":["const divisors = {\n  days: 86400000,\n  hours: 3600000,\n  minutes: 60000,\n  seconds: 1000,\n}\n\nconst round = (value: number): number => {\n  return parseFloat(value.toFixed(1))\n}\n\nexport default class DateDiff {\n  date1: Date\n  date2: Date\n  difference: number\n\n  constructor(date1: Date, date2: Date) {\n    this.date1 = date1\n    this.date2 = date2\n    this.difference = Math.floor(date1.getTime() - date2.getTime())\n  }\n\n  days = (): number => {\n    return round(this.difference / divisors.days)\n  }\n\n  weeks = (): number => {\n    return round(this.days() / 7)\n  }\n\n  hours = (): number => {\n    return round(this.difference / divisors.hours)\n  }\n\n  minutes = (): number => {\n    return round(this.difference / divisors.minutes)\n  }\n\n  seconds = (): number => {\n    return round(this.difference / divisors.seconds)\n  }\n\n  months = (): number => {\n    let ret = (this.date1.getFullYear() - this.date2.getFullYear()) * 12\n    ret += this.date1.getMonth() - this.date2.getMonth()\n    const endOfMonth = this.endOfMonth(this.date2).getDate()\n    ret += (this.date1.getDate() / endOfMonth) - (this.date2.getDate() / endOfMonth)\n    return round(ret)\n  }\n\n  years = (): number => {\n    let ret = (this.date1.getFullYear() - this.date2.getFullYear())\n    ret += (this.dayOfYear(this.date1) - this.dayOfYear(this.date2)) / this.daysInYear(this.date2)\n    return round(ret)\n  }\n\n  endOfMonth = (date: Date): Date => {\n    return new Date(date.getFullYear(), date.getMonth() + 1, 0)\n  }\n\n  dayOfYear = (date: Date): number => {\n    return (date.getTime() - this.beginOfYear(date).getTime()) / divisors.days\n  }\n\n  daysInYear = (date: Date) => {\n    return (this.endOfYear(date).getTime() - this.beginOfYear(date).getTime()) / divisors.days\n  }\n\n  beginOfYear = (date: Date): Date => {\n    return new Date(date.getFullYear(), 0, 0)\n  }\n\n  endOfYear = (date: Date): Date => {\n    return new Date(date.getFullYear() + 1, 0, 0)\n  }\n\n}\n\ndeclare global {\n  interface DateConstructor {\n    diff(date1: Date, date2: Date): DateDiff\n  }\n}\n\nDate.diff = (date1: Date, date2: Date) => new DateDiff(date1, date2)\n"],"names":[],"version":3,"file":"date-diff.js.map"}